# Expense Tracker

A full-stack expense tracking application built with React, Spring Boot, and Supabase. Track your income and expenses, categorize transactions, and view detailed financial summaries with beautiful Mustache-templated messages.

## ğŸš€ Features

- **Full CRUD Operations**: Create, Read, Update, and Delete transactions
- **User Authentication**: Secure login and signup with Supabase Auth
- **Category Management**: Organize transactions by custom categories
- **Financial Dashboard**: View income, expenses, and balance at a glance
- **Transaction History**: Detailed transaction list with filtering options
- **Mustache Templates**: Beautiful formatted messages for all operations
- **Responsive Design**: Modern UI with TailwindCSS and Shadcn UI
- **Real-time Updates**: Instant reflection of all changes

## ğŸ› ï¸ Tech Stack

### Frontend
- **React 18** with Vite
- **TailwindCSS** for styling
- **Shadcn UI** components
- **React Router** for navigation
- **Supabase Client** for authentication
- **Axios** for API calls

### Backend
- **Spring Boot 3.2**
- **Spring Data JPA** with PostgreSQL
- **Mustache** for templating
- **Lombok** for reducing boilerplate
- **JWT** for authentication

### Database
- **Supabase (PostgreSQL)**
- Row Level Security (RLS) policies
- Auto-generated default categories

## ğŸ“‹ Prerequisites

- Node.js 18+ and npm
- Java 17+
- Maven
- Supabase account

## ğŸ”§ Setup Instructions

### 1. Supabase Setup

1. Create a new project at [supabase.com](https://supabase.com)

2. Run the SQL script in Supabase SQL Editor:
   ```bash
   # The database-setup.sql file contains all table definitions
   # Copy and run it in Supabase SQL Editor
   ```

3. Get your Supabase credentials:
   - Go to Project Settings â†’ API
   - Note down:
     - Project URL
     - Anon/Public Key
     - Service Role Key (for backend)
   - Go to Project Settings â†’ Database
     - Note down the connection string

### 2. Backend Setup

1. Navigate to backend directory:
   ```bash
   cd backend
   ```

2. Create `.env` file (or set environment variables):
   ```properties
   SUPABASE_DB_URL=jdbc:postgresql://db.your-project.supabase.co:5432/postgres
   SUPABASE_DB_USER=postgres
   SUPABASE_DB_PASSWORD=your_password
   SUPABASE_JWT_SECRET=your_jwt_secret
   CORS_ORIGINS=http://localhost:5173
   ```

   To get JWT secret:
   - Go to Project Settings â†’ API â†’ JWT Settings
   - Copy the JWT Secret

3. Build and run the Spring Boot application:
   ```bash
   mvn clean install
   mvn spring-boot:run
   ```

   The backend will start on `http://localhost:8080`

### 3. Frontend Setup

1. Navigate to frontend directory:
   ```bash
   cd frontend
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Create `.env` file:
   ```env
   VITE_SUPABASE_URL=https://your-project.supabase.co
   VITE_SUPABASE_ANON_KEY=your_anon_key
   VITE_API_BASE_URL=http://localhost:8080
   ```

4. Start the development server:
   ```bash
   npm run dev
   ```

   The frontend will start on `http://localhost:5173`

## ğŸ¯ Usage

### First Time Setup

1. **Sign Up**: Create a new account at the login page
2. **Verify Email**: Check your email for verification (if required by Supabase)
3. **Login**: Sign in with your credentials
4. **Explore**: Default categories are automatically created for you!

### Adding Transactions

1. Navigate to **Transactions** page
2. Click **Add Transaction**
3. Fill in the form:
   - Select type (Income/Expense)
   - Enter amount
   - Choose category
   - Add description (optional)
   - Select date
4. Click **Save Transaction**
5. See the success message generated by Mustache template!

### Managing Transactions

- **Edit**: Click the Edit button on any transaction
- **Delete**: Click the Delete button (with confirmation)
- **View**: See all transactions in the table
- **Filter**: Coming soon - filter by date, category, type

### Dashboard

The dashboard shows:
- Total Income
- Total Expenses
- Current Balance
- Recent 5 transactions
- Category breakdown

## ğŸ“ Project Structure

```
expense-tracker/
â”œâ”€â”€ backend/                           # Spring Boot backend
â”‚   â”œâ”€â”€ src/main/java/com/expensetracker/
â”‚   â”‚   â”œâ”€â”€ config/                   # Configuration classes
â”‚   â”‚   â”œâ”€â”€ controller/               # REST controllers
â”‚   â”‚   â”œâ”€â”€ dto/                      # Data Transfer Objects
â”‚   â”‚   â”œâ”€â”€ model/                    # Entity classes
â”‚   â”‚   â”œâ”€â”€ repository/               # JPA repositories
â”‚   â”‚   â””â”€â”€ service/                  # Business logic
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”‚   â”œâ”€â”€ templates/                # Mustache templates
â”‚   â”‚   â””â”€â”€ application.properties    # App configuration
â”‚   â””â”€â”€ pom.xml                       # Maven dependencies
â”‚
â”œâ”€â”€ frontend/                          # React frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/               # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                   # Shadcn UI components
â”‚   â”‚   â”‚   â””â”€â”€ Auth/                 # Auth components
â”‚   â”‚   â”œâ”€â”€ contexts/                 # React contexts
â”‚   â”‚   â”œâ”€â”€ hooks/                    # Custom hooks
â”‚   â”‚   â”œâ”€â”€ lib/                      # Utilities
â”‚   â”‚   â”œâ”€â”€ pages/                    # Page components
â”‚   â”‚   â”œâ”€â”€ services/                 # API services
â”‚   â”‚   â”œâ”€â”€ App.jsx                   # Main App component
â”‚   â”‚   â””â”€â”€ main.jsx                  # Entry point
â”‚   â”œâ”€â”€ tailwind.config.js            # Tailwind configuration
â”‚   â””â”€â”€ package.json                  # npm dependencies
â”‚
â””â”€â”€ database-setup.sql                 # Supabase SQL schema
```

## ğŸ¨ Mustache Templates

The application uses Mustache templates for:

1. **Welcome Message**: Sent when a new user signs up
2. **Transaction Success**: Displayed after creating a transaction
3. **Transaction Update**: Shown when updating a transaction
4. **Transaction Delete**: Confirmation message on deletion
5. **Monthly Report**: Generated financial summary (API endpoint)

Templates are located in: `backend/src/main/resources/templates/`

## ğŸ” API Endpoints

### Transactions
- `GET /api/transactions` - Get all transactions
- `GET /api/transactions/{id}` - Get transaction by ID
- `POST /api/transactions` - Create new transaction
- `PUT /api/transactions/{id}` - Update transaction
- `DELETE /api/transactions/{id}` - Delete transaction
- `GET /api/transactions/summary` - Get financial summary

### Categories
- `GET /api/categories` - Get all categories
- `GET /api/categories/{id}` - Get category by ID
- `POST /api/categories` - Create new category
- `PUT /api/categories/{id}` - Update category
- `DELETE /api/categories/{id}` - Delete category

All endpoints require Bearer token authentication.

## ğŸ”’ Security

- JWT-based authentication
- Row Level Security (RLS) in Supabase
- CORS configuration for frontend-backend communication
- Password hashing handled by Supabase Auth
- Secure environment variable management

## ğŸ› Troubleshooting

### Backend won't start
- Check if PostgreSQL connection string is correct
- Verify JWT secret matches Supabase settings
- Ensure port 8080 is not in use

### Frontend can't connect to backend
- Verify backend is running on port 8080
- Check CORS settings in backend
- Ensure `.env` file has correct API URL

### Authentication issues
- Verify Supabase URL and keys are correct
- Check if email confirmation is required in Supabase
- Clear browser cache and try again

### Database errors
- Ensure SQL script was run successfully in Supabase
- Check RLS policies are enabled
- Verify user has proper permissions

## ğŸ“ Environment Variables Reference

### Backend (.env or application.properties)
```properties
SUPABASE_DB_URL=jdbc:postgresql://db.xxx.supabase.co:5432/postgres
SUPABASE_DB_USER=postgres
SUPABASE_DB_PASSWORD=your_password
SUPABASE_JWT_SECRET=your_jwt_secret
CORS_ORIGINS=http://localhost:5173
```

### Frontend (.env)
```env
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key
VITE_API_BASE_URL=http://localhost:8080
```

## ğŸš€ Deployment

### Backend Deployment
- Package as JAR: `mvn clean package`
- Deploy to services like Heroku, Railway, or AWS
- Set environment variables in hosting platform

### Frontend Deployment
- Build: `npm run build`
- Deploy `dist` folder to Vercel, Netlify, or similar
- Set environment variables in hosting platform

### Database
- Supabase handles database hosting
- No additional deployment needed

## ğŸ“„ License

This project is open source and available under the MIT License.

## ğŸ¤ Contributing

Contributions, issues, and feature requests are welcome!

## ğŸ‘¨â€ğŸ’» Author

Created as a learning project demonstrating full-stack development with modern technologies.

## ğŸ™ Acknowledgments

- React and Vite teams
- Spring Boot community
- Supabase for amazing BaaS platform
- Shadcn UI for beautiful components
- Mustache templating engine

---

**Happy Expense Tracking! ğŸ’°ğŸ“Š**
